<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Calcul de moyenne</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .matiere {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            width: 300px;
        }
        button {
            margin-top: 5px;
        }
    </style>
</head>
<body>

<h1>Calcul de moyenne</h1>

<div class="matiere">
    <h3>Maths (coef 7)</h3>
    <div id="maths">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('maths')">Ajouter un contrôle</button>
</div>

<div class="matiere">
    <h3>Physique (coef 7)</h3>
    <div id="physique">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('physique')">Ajouter un contrôle</button>
</div>

<div class="matiere">
    <h3>Chimie (coef 4)</h3>
    <div id="chimie">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('chimie')">Ajouter un contrôle</button>
</div>

<div class="matiere">
    <h3>Biologie (coef 3)</h3>
    <div id="biologie">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('biologie')">Ajouter un contrôle</button>
</div>

<div class="matiere">
    <h3>Info (coef 3)</h3>
    <div id="info">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('info')">Ajouter un contrôle</button>
</div>

<div class="matiere">
    <h3>Culture G (coef 1.5)</h3>
    <div id="cultureg">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('cultureg')">Ajouter un contrôle</button>
</div>

<div class="matiere">
    <h3>LV2 (coef 1.5)</h3>
    <div id="LV2">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('LV2')">Ajouter un contrôle</button>
</div>

<div class="matiere">
    <h3>Anglais (coef 1.5)</h3>
    <div id="anglais">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('anglais')">Ajouter un contrôle</button>
</div>

<div class="matiere">
    <h3>Sport (coef 1.5)</h3>
    <div id="sport">
        <input type="number" min="0" max="20">
    </div>
    <button onclick="ajouterNote('sport')">Ajouter un contrôle</button>
</div>

<button onclick="calculerMoyenne()">Calculer la moyenne générale</button>

<h2 id="resultat"></h2>

<script>
    function ajouterNote(matiereId) {
        let div = document.getElementById(matiereId);
        let input = document.createElement("input");
        input.type = "number";
        input.min = 0;
        input.max = 20;
        div.appendChild(document.createElement("br"));
        div.appendChild(input);
    }

    function moyenneMatiere(matiereId) {
        let inputs = document.querySelectorAll(`#${matiereId} input`);
        let somme = 0;
        let count = 0;

        inputs.forEach(input => {
            let val = Number(input.value);
            if (!isNaN(val)) {
                somme += val;
                count++;
            }
        });

        return count > 0 ? somme / count : 0;
    }

    function calculerMoyenne() {
        let moyenneGenerale = (
            7 * moyenneMatiere("maths") +
            7 * moyenneMatiere("physique") +
            4 * moyenneMatiere("chimie") +
            3 * moyenneMatiere("biologie") +
            3 * moyenneMatiere("info") +
            1.5 * moyenneMatiere("cultureg") +
            1.5 * moyenneMatiere("LV2") +
            1.5 * moyenneMatiere("anglais") +
            1.5 * moyenneMatiere("sport")
        ) / 30;

        document.getElementById("resultat").textContent =
            "Moyenne générale : " + moyenneGenerale.toFixed(2);
    }
</script>

</body>
</html>

